# Ruby Avro Read Test

For the first time, we are going to be reading Avro encoded messages from RabbitMQ that were generated by Ruby.
Therefore we need to check that these messages will be decodable with our existing decoding strategies.
It's important to note that the Ruby library only offers binary encoding of messages, so this test checks we can decode from that format.

## Message Files

- `expected_message.py` contains the original message contents that Ruby used to contruct the AVRO message.
- `schema.avsc` contains the AVRO schema used when encoding the message.
- `ruby_message.avro` contains the binary-encoded message generated in Ruby that would usually arrive from a message broker.

## Test Script

`run_test.py` uses the libraries implemented by ToL-lab-share to try to decode the message.
Run the test using the following:

```shell
python ./run_test.py
```

If the message decodes and matches the contents of the `expected_message.py` file, the test is considered a pass and this is output.

## Additional Scripts

`create_test_message.py` produces a file `schemaless_message.avro` which gives us a benchmark for the binary format we should be able to read.
